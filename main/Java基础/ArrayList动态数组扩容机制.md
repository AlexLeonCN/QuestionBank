# ArrayList动态数组扩容机制

在JDK1.8中，如果通过无参构造的话，初始数组容量为0，当真正对数组进行添加时（即添加第一个元素时），才真正分配容量，默认分配容量为10；

当容量不足时（容量为size，添加第size+1个元素时），先判断按照1.5倍（位运算）的比例扩容能否满足最低容量要求<br/>
若能，则以1.5倍扩容，否则以最低容量要求进行扩容

执行add(E e)方法时，先判断ArrayList当前容量是否满足size+1的容量<br/>
在判断是否满足size+1的容量时，先判断ArrayList是否为空<br/>
若为空，则先初始化ArrayList初始容量为10，再判断初始容量是否满足最低容量要求<br/>
若不为空，则直接判断当前容量是否满足最低容量要求；若满足最低容量要求，则直接添加<br/>
若不满足，则先扩容，再添加。

ArrayList的最大容量为Integer.MAX_VALUE

ArrayList扩容的例子：<br/>
ArrayList相当于在没指定initialCapacity时就是会使用延迟分配对象数组空间<br/>
当第一次插入元素时才分配10（默认）个对象空间。

假如有20个数据需要添加，那么会分别在第一次的时候，将ArrayList的容量变为10；<br/>
之后扩容会按照1.5倍增长。也就是当添加第11个数据的时候，Arraylist继续扩容变为10*1.5=15；<br/>
当添加第16个数据时，继续扩容变为15 * 1.5 =22个。
